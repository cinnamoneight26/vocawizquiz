import{_ as m,S as v,T as d,U as _,X as b,Y as S,E as w}from"./VSheet-87dcc395.js";import{B as u,T as g,Y as p,S as Q,C as f,D as r,n as i,F as h,Z as A,V as L,U as $,E as k}from"./index-edf5e28b.js";const V={name:"AdSenseAd",mounted(){try{(adsbygoogle=window.adsbygoogle||[]).push({})}catch(e){console.error("AdSense script load failed:",e)}}},z=p("ins",{class:"adsbygoogle",style:{display:"block"},"data-ad-client":"ca-pub-4331956626091866","data-ad-slot":"3457019301","data-ad-format":"auto","data-full-width-responsive":"true"},null,-1),C=[z];function O(e,t,s,n,o,l){return u(),g("div",null,C)}const E=m(V,[["render",O]]);const T={name:"ObjectiveExercise",components:{AdSenseAd:E},watch:{selectedLevel:function(){this.loadJsonAndGenerateQuiz()}},data:()=>({vocabularyList:[],currentQuestionEng:null,currentQuestion:null,options:[],selectedLevel:["초급"],levels:["초급","중급","고급"],questionType:""}),mounted(){this.loadJsonAndGenerateQuiz()},methods:{loadJsonAndGenerateQuiz(){fetch("voca.json").then(e=>e.json()).then(e=>{if(this.vocabularyList=[],this.selectedLevel.length===0){this.$swal.fire({title:"레벨을 선택해 주세요.",showConfirmButton:!1,timer:1e3,icon:"warning"}),this.selectedLevel=["초급"];return}for(let t=0;t<this.selectedLevel.length;t++)for(let s=0;s<e.length;s++)this.selectedLevel[t]===e[s].type&&this.vocabularyList.push(e[s]);this.generateQuiz()}).catch(e=>{console.error("JSON 파일을 로드하는 중 오류가 발생했습니다:",e)})},generateQuiz(){if(this.vocabularyList.length===0){console.error("JSON 파일 로드 오류.");return}this.currentQuestion=this.vocabularyList[Math.floor(Math.random()*this.vocabularyList.length)],this.options=this.generateOptions(this.currentQuestion),this.displayQuestionAndOptions(this.currentQuestion,this.options)},generateOptions(e){const t=[],s=this.vocabularyList.filter(n=>n!==e);for(let n=0;n<4;n++){const o=s.splice(Math.floor(Math.random()*s.length),1)[0];t.push(o)}t.push(e);for(let n=t.length-1;n>0;n--){const o=Math.floor(Math.random()*(n+1));[t[n],t[o]]=[t[o],t[n]]}return t},displayQuestionAndOptions(e,t){this.currentQuestionEng=e.eng,this.questionType=this.currentQuestion.type,this.currentQuestion=e,this.options=t},checkAnswer(e){const t=this.options[e].eng===this.currentQuestionEng,s={index:this.$store.state.answerHistory.length+1,questionObj:this.currentQuestion,question:this.currentQuestion.eng,questionType:"객관식",isCorrect:t,correctAnswer:this.currentQuestion.kor,userAnswer:this.options[e].kor};this.$store.commit("addToAnswerHistory",s),t?this.$swal.fire({title:"정답입니다!",showConfirmButton:!1,timer:1e3,icon:"success"}):this.$swal.fire({title:"틀렸습니다.",text:"정답 : "+this.currentQuestion.kor,confirmButtonText:"닫기",icon:"error"}),this.generateQuiz()},speakText(e){if("speechSynthesis"in window){const t=window.speechSynthesis,s=new SpeechSynthesisUtterance;s.text=e,t.speak(s)}else console.error("Web Speech API is not supported in this browser.")},calculateFontSize(e){if(e===""||e===null||e===void 0)return!1;const t=6,s=3,n=e.length;if(n>t){const o=t/n;return`${s*o}rem`}return`${s}rem`}}},q={class:"questionTypeStyle"};function B(e,t,s,n,o,l){const y=Q("AdSenseAd");return u(),f(v,{class:"fill-height"},{default:r(()=>[i(S,{class:"align-center text-center fill-height"},{default:r(()=>[i(d,null,{default:r(()=>[i(_,{modelValue:e.selectedLevel,"onUpdate:modelValue":t[0]||(t[0]=a=>e.selectedLevel=a),id:"selectedLevel",name:"selectedLevel",ref:"selectedLevel",items:e.levels,label:"레벨 선택",dense:"",outlined:"",chips:"",multiple:"","hide-details":"",color:"fontColor",onChange:t[1]||(t[1]=a=>l.loadJsonAndGenerateQuiz())},null,8,["modelValue","items"])]),_:1}),i(b),i(d,{class:"questionWrapper"},{default:r(()=>[p("p",{class:"questionStyle",ref:"question",style:A({fontSize:l.calculateFontSize(e.currentQuestionEng)})},h(e.currentQuestionEng),5),p("p",q,"[ "+h(e.questionType)+" ] ",1)]),_:1}),i(d,{style:{display:"flex",flexDirection:"column",padding:"0px 4px"}},{default:r(()=>[(u(!0),g($,null,L(e.options,(a,c)=>(u(),f(w,{flat:"",class:"optionsStyle",id:"option_"+c,ref_for:!0,ref:"option_"+c,variant:"plain",key:c,onClick:j=>l.checkAnswer(c)},{default:r(()=>[k(h(a.kor),1)]),_:2},1032,["id","onClick"]))),128))]),_:1}),i(y)]),_:1})]),_:1})}const M=m(T,[["render",B],["__scopeId","data-v-b02bbb1c"]]);export{M as default};
